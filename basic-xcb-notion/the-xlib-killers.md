#請求與回复：殺掉 Xlib 效率的殺手
為了向 X 服務器查詢信息，我們不得不去發送請求和輪詢回复。在 Xlib 上，這兩個任務是這樣被自動完成的： Xlib 先鎖定系統，然後發送一個請求，等待來自 X 服務器的回复並解鎖。這是很令人厭煩的。尤其是一個程序向 X 服務器發送了大量的請求時。的確，Xlib 不得不在詢問下一個消息之前，等待消息的結尾（因為 Xlib 發送的東西被鎖了）。舉個例子，這是使用 Xlib 的四(N=4)個請求與回覆的時間線，可以看到有五次(T_round_trip)的來回讀寫(T_read/T_write)需求時間。

    W-----RW-----RW-----RW-----R

- W: 寫入請求
- -: 等待數據
- R: 讀取回覆

    總時間為 N * (T_write + T_round_trip + T_read)

如果使用 XCB ，便能阻止這來回所需的時間並無需鎖定系統。
