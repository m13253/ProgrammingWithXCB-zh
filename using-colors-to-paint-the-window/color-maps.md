顏色映射
===

在最開始時，其實是沒有現在那麼多顏色的。屏幕控制器只能支持有限的顏色（先是 2 ，後來是 4 種，16 種和 256 色）。因此，一個程序不能只請求使用“亮紫紅”色，除非這個顏色是有效的。

那麼，“顏色映射”這個概念被提出了。一個顏色映射是一個和屏幕控制器提供的最大顏色數一樣大小的表。它包含了不同顏色的 RGB （三原色的縮寫）值。當一個應用想在屏幕上繪圖時，它不需指出使用什麼顏色。而是使用一些顏色映射來繪圖。改變顏色映射的值可以變色。

為了讓程序員使用顏色映射來繪圖，出現了顏色映射函數。你可以請求分配一個顏色映射。如果一個顏色映射已經存在了，你將得到它在表中的索引。如果它尚未存在，並且表也沒有滿，一個小室（？）將會被分配來包含給出的 RGB 值，並且返回其索引。如果表滿了，這個過程將會失敗。……

當今，正在運行 X 服務器的現代的屏幕都至少支持 160 萬種顏色，這個限制只是一小部分，但記住還有舊式的電腦和顯卡存在。使用顏色映射，屏幕所支持的顏色對你來說是透明的。當顯示器支持 160 萬色時，任意的顏色記錄分配請求都會成功。當顯示器所支持的顏色有限時，一些顏色機會分配請求可能會返回一個相似的顏色。雖然不太好，但是你的應用還在跑。
